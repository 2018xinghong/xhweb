<!DOCTYPE HTML>
<html>
	<head>

		
	</head>
	<body>

		<div style="width: 50px;height:50px;float:left;" class="dg-01" ondrop="drop(event,this)" ondragover="allowDrop(event)" ondragstart="drag(event, this)"
		 draggable="true">
			div1!
		</div>
		<div style="width: 50px;height:50px;float:left;" class="dg-02" ondrop="drop(event,this)" ondragover="allowDrop(event)" ondragstart="drag(event, this)"
		 draggable="true">
			div2!
		</div>
		<div style="width: 50px;height:50px;float:left;" class="dg-03" ondrop="drop(event,this)" ondragover="allowDrop(event)" ondragstart="drag(event, this)"
		 draggable="true">
			div3
		</div>

	</body>
	<script src="./js/jquery-3.1.1.min.js"></script>
	<script type="text/javascript">
		var $divs = $("div");
		function allowDrop(ev) {
			ev.preventDefault();
		}
		var srcdiv = null;
		function drag(ev, divdom) {
			srcdiv = divdom;
			ev.dataTransfer.setData("text", divdom.className);
		}
		function drop(ev, divdom) {
			ev.preventDefault();
			console.log(srcdiv);
			console.log(divdom);
			if (srcdiv != divdom) {
				
				
				var srcdivIndex = $.inArray(srcdiv, $divs);
				var divdomIndex = $.inArray(divdom, $divs);
				console.log("srcdivIndex", srcdivIndex);
				console.log("divdomIndex", divdomIndex);
				var className = ev.dataTransfer.getData("text");
				if(divdomIndex > srcdivIndex) {
					$(divdom).after($("."+className));
				}else {
					$(divdom).before($("."+className));
				}
			}
		}
	</script>
</html>
